#include <stdarg.h>
#include "variadic_functions.h"

int custom_putchar(char c)
{
    return putchar(c);
}

void print_strings(const char *separator, const unsigned int n, ...)
{
    va_list args;
    unsigned int i;
    char *str;

    va_start(args, n);

    for (i = 0; i < n; i++) {
        str = va_arg(args, char *);
        if (i > 0 && separator != NULL) {
            print_separator(separator);
        }
        if (str != NULL) {
            print_string(str);
        } else {
            print_string("(nil)");
        }
    }

    va_end(args);

    print_newline();
}

void print_separator(const char *separator)
{
    while (*separator) {
        custom_putchar(*separator);
        separator++;
    }
}

void print_string(const char *str)
{
    while (*str) {
        custom_putchar(*str);
        str++;
    }
}

void print_newline(void)
{
    custom_putchar('\n');
}
